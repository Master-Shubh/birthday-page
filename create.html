<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Create Birthday Wish</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

<style>
body{
  min-height:100vh;
  background:linear-gradient(135deg,#ffdde1,#ee9ca7);
  display:flex;
  align-items:center;
  justify-content:center;
  font-family:'Poppins',sans-serif;
}
.form-box{
  background:#fff;
  padding:25px;
  border-radius:16px;
  width:90%;
  max-width:360px;
  box-shadow:0 15px 30px rgba(0,0,0,.2);
  text-align:center;
}
input,textarea{
  width:100%;
  margin:10px 0;
  padding:10px;
  border-radius:10px;
  border:1px solid #ddd;
}
button{
  width:100%;
  padding:10px;
  border:none;
  border-radius:20px;
  background:#c9184a;
  color:#fff;
  cursor:pointer;
}
.theme-section{
  margin:15px 0;
  text-align:left;
}
.theme-cards{
  display:flex;
  gap:10px;
}
.theme-card{
  flex:1;
  height:70px;
  border-radius:12px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  color:#fff;
  font-weight:600;
  border:2px solid transparent;
}
.theme-card.active{
  border-color:#000;
}
.theme-card.pink{background:linear-gradient(135deg,#ff9a9e,#fad0c4);}
.theme-card.blue{background:linear-gradient(135deg,#3b82f6,#93c5fd);}
.theme-card.dark{background:linear-gradient(135deg,#0f172a,#020617);}

/* Preview */
.preview-box{margin-top:20px;}
.preview-card{
  border-radius:16px;
  padding:18px;
  color:#fff;
  min-height:120px;
}
.preview-card.pink{background:linear-gradient(135deg,#ff9a9e,#fad0c4);}
.preview-card.blue{background:linear-gradient(135deg,#3b82f6,#93c5fd);}
.preview-card.dark{background:linear-gradient(135deg,#0f172a,#020617);}
</style>
</head>

<body>

<div class="form-box">
  <h2>Create Birthday Wish ðŸŽ‰</h2>

  <input id="name" placeholder="Birthday Person Name" oninput="updatePreview()">
  <textarea id="msg" placeholder="Your Message" oninput="updatePreview()"></textarea>
  <input id="sender" placeholder="Your Name (Sender)">

  <!-- THEME -->
  <div class="theme-section">
    <p>Select Theme ðŸŽ¨</p>
    <div class="theme-cards">
      <div class="theme-card pink active" onclick="selectTheme('pink',this)">Pink</div>
      <div class="theme-card blue" onclick="selectTheme('blue',this)">Blue</div>
      <div class="theme-card dark" onclick="selectTheme('dark',this)">Dark</div>
    </div>
  </div>

  <!-- PREVIEW -->
  <div class="preview-box">
    <div class="preview-card pink" id="previewCard">
      <h3 id="previewName">Happy Birthday ðŸŽ‚ Name</h3>
      <p id="previewMsg">Your message will appear here âœ¨</p>
    </div>
  </div>

  <button onclick="go()">Generate Wish</button>
</div>

<input type="hidden" id="themeInput" value="pink">

<script>
function updatePreview(){
  const name = document.getElementById("name").value || "Name";
  const msg  = document.getElementById("msg").value || "Your message will appear here âœ¨";

  document.getElementById("previewName").innerText =
    "Happy Birthday ðŸŽ‚ " + name;

  document.getElementById("previewMsg").innerText = msg;
}

function selectTheme(theme, el){
  document.getElementById("themeInput").value = theme;

  document.querySelectorAll(".theme-card")
    .forEach(c => c.classList.remove("active"));
  el.classList.add("active");

  document.getElementById("previewCard").className =
    "preview-card " + theme;
}

function go(){
  const name   = document.getElementById("name").value.trim();
  const msg    = document.getElementById("msg").value.trim();
  const sender = document.getElementById("sender").value.trim();
  const theme  = document.getElementById("themeInput").value;

  if(!name || !msg || !sender){
    alert("Please fill all fields");
    return;
  }

  // âœ… GitHub Pages correct redirect
  const baseURL = location.origin + "/birthday-page/";

  const url =
    baseURL +
    "?name="   + encodeURIComponent(name) +
    "&msg="    + encodeURIComponent(msg) +
    "&sender=" + encodeURIComponent(sender) +
    "&theme="  + theme;

  window.location.href = url;
}
</script>

</body>
</html>
